(this["webpackJsonpwould-you-rather"]=this["webpackJsonpwould-you-rather"]||[]).push([[0],{68:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(0),r=a.n(n),o=a(27),c=a.n(o),i=a(18),l=a(28),d=a(8),u=a(14),b=a.n(u),j="SET_AUTHED_USER";function h(e){return function(t){t(Object(u.showLoading)()),t(function(e){return{type:j,id:e}}(e)),t(Object(u.hideLoading)())}}var p=a(15),m=a(3),O=a(39),v={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://firebasestorage.googleapis.com/v0/b/test-task-caf19.appspot.com/o/would%20you%20rather%2Fsarahedo.png?alt=media&token=3451932a-b253-4e83-8605-9f9ed8a77263",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://firebasestorage.googleapis.com/v0/b/test-task-caf19.appspot.com/o/would%20you%20rather%2Ftylermcginnis.png?alt=media&token=01be9fad-91c6-431b-af09-e5f8fe4fe38f",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://firebasestorage.googleapis.com/v0/b/test-task-caf19.appspot.com/o/would%20you%20rather%2Fjohndoe.png?alt=media&token=833bfda7-8911-4165-b8d5-da6a4049eca2",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},x={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function f(e){return new Promise((function(t,a){var s=e.author,n=function(e){var t=e.optionOneText,a=e.optionTwoText,s=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:s,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:a}}}(e);setTimeout((function(){x=Object(m.a)(Object(m.a)({},x),{},Object(p.a)({},n.id,n)),v=Object(m.a)(Object(m.a)({},v),{},Object(p.a)({},s,Object(m.a)(Object(m.a)({},v[s]),{},{questions:v[s].questions.concat([n.id])}))),t(n)}),1e3)}))}function g(e){return function(e){var t=e.authedUser,a=e.qid,s=e.answer;return new Promise((function(e,n){setTimeout((function(){v=Object(m.a)(Object(m.a)({},v),{},Object(p.a)({},t,Object(m.a)(Object(m.a)({},v[t]),{},{answers:Object(m.a)(Object(m.a)({},v[t].answers),{},Object(p.a)({},a,s))}))),x=Object(m.a)(Object(m.a)({},x),{},Object(p.a)({},a,Object(m.a)(Object(m.a)({},x[a]),{},Object(p.a)({},s,Object(m.a)(Object(m.a)({},x[a][s]),{},{votes:x[a][s].votes.concat([t])}))))),e()}),500)}))}(e)}function w(e){return t=e,new Promise((function(e,a){var s=t.id,n=t.name,r=t.avatarURL;setTimeout((function(){v=Object(m.a)(Object(m.a)({},v),{},Object(p.a)({},s,{id:s,name:n,avatarURL:r,answers:{},questions:[]})),e(t)}),1e3)}));var t}var y="RECEIVE_USERS",N="NEW_USER";function q(e){return function(t){return t(Object(u.showLoading)()),w(e).then((function(e){return t(function(e){return{type:N,user:e}}(e))})).then((function(){return t(Object(u.hideLoading)())}))}}var T="RECEIVE_QUESTIONS",U="ANSWER_QUESTION",k="ADD_QUESTION";function C(e){return function(t){return t(Object(u.showLoading)()),function(e){return f(e)}(e).then((function(e){return t(function(e){return{type:k,question:e}}(e))})).then((function(){return t(Object(u.hideLoading)())}))}}function R(e){return function(t){return t(Object(u.showLoading)()),g(e).then((function(){return t(function(e){var t=e.authedUser,a=e.qid,s=e.answer;return{type:U,authedUser:t,qid:a,answer:s}}(e))})).then((function(){return t(Object(u.hideLoading)())})).catch((function(e){console.log("The was an error answering the question. Try again.",e)}))}}var S=Object(l.c)({authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.id;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(m.a)(Object(m.a)({},e),t.users);case U:return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},t.authedUser,Object(m.a)(Object(m.a)({},e[t.authedUser]),{},{answers:Object(m.a)(Object(m.a)({},e[t.authedUser].answers),{},Object(p.a)({},t.qid,t.answer))})));case k:return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},t.question.author,Object(m.a)(Object(m.a)({},e[t.question.author]),{},{questions:e[t.question.author].questions.concat([t.question.id])})));case N:return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},t.user.id,Object(m.a)(Object(m.a)({},t.user),{},{answers:{},questions:[]})));default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(m.a)(Object(m.a)({},e),t.questions);case U:return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},t.qid,Object(m.a)(Object(m.a)({},e[t.qid]),{},Object(p.a)({},t.answer,Object(m.a)(Object(m.a)({},e[t.qid][t.answer]),{},{votes:e[t.qid][t.answer].votes.concat([t.authedUser])})))));case k:return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},t.question.id,t.question));default:return e}},loadingBar:u.loadingBarReducer}),L=a(48),E=function(e){return function(t){return function(a){console.group(a.type),console.log("The action: ",a);var s=t(a);return console.log("The new state: ",e.getState()),console.groupEnd(),s}}},A=Object(l.a)(L.a,E),W=(a(67),a(68),a(9)),z=a(10),D=a(12),P=a(11),F=a(7),Q=function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(W.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).logout=function(){(0,e.props.dispatch)(h(null)),e.props.history.push("/")},e}return Object(z.a)(a,[{key:"render",value:function(){return Object(s.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)(i.d,{to:"/",className:"navbar-brand",activeClassName:"active",children:"Would You Rather"}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(s.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(i.d,{to:"/",className:"nav-link",activeClassName:"active",children:"Home"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(i.d,{to:"/add",className:"nav-link",activeClassName:"active",children:"New Question"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(i.d,{to:"/leaderboard",className:"nav-link",activeClassName:"active",children:"Leader Board"})})]}),null===this.props.authedUser?Object(s.jsx)(i.d,{to:"/register",className:"btn btn-secondary ms-2",children:"Register"}):Object(s.jsxs)("div",{children:[Object(s.jsxs)("span",{className:"navbar-text",children:["Hello, ",this.props.userName]}),Object(s.jsx)("button",{className:"btn btn-secondary ms-2",onClick:this.logout,children:"Logout"})]})]})]})})}}]),a}(n.Component);var I=Object(F.g)(Object(d.connect)((function(e){var t=e.authedUser,a=e.users;return{authedUser:t,userName:null!==t&&a[t].name}}))(Q)),Y=a(49),_=a(91),B=a(96),H=a(94),M=a(92),V=a(93),J=function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"render",value:function(){var e=this.props.question,t=e.authorName,a=e.authorAvatar,n=e.id,r=this.props.question.optionOne.text,o=this.props.question.optionTwo.text;return Object(s.jsxs)("div",{className:"card mb-3 m-auto",style:{maxWidth:"540px"},children:[Object(s.jsx)("div",{className:"card-header text-start",children:Object(s.jsxs)("h6",{className:"fw-bolder",children:[t," asks:"]})}),Object(s.jsxs)("div",{className:"row g-0",children:[Object(s.jsx)("div",{className:"col-md-4",children:Object(s.jsx)("img",{width:"150",style:{borderRadius:"50%"},src:""===a?"https://firebasestorage.googleapis.com/v0/b/test-task-caf19.appspot.com/o/would%20you%20rather%2Favatar.png?alt=media&token=1dcdaf5e-b089-4500-860b-180235d257a5":a,alt:t})}),Object(s.jsx)("div",{className:"col-md-8",children:Object(s.jsxs)("div",{className:"card-body text-start",children:[Object(s.jsx)("h4",{className:"card-title",children:"Would You Rather ..."}),Object(s.jsx)("p",{children:r}),Object(s.jsx)("p",{children:o}),Object(s.jsx)(i.c,{to:"/questions/".concat(n),className:"btn btn-outline-primary",children:"View Poll"})]})})]})]})}}]),a}(n.Component),G=function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{children:this.props.questions.sort((function(e,t){return t.timestamp-e.timestamp})).map((function(e){return Object(s.jsx)(J,{question:e},e.id)}))})}}]),a}(n.Component);function $(e){var t=e.children,a=e.value,n=e.index,r=Object(Y.a)(e,["children","value","index"]);return Object(s.jsx)("div",Object(m.a)(Object(m.a)({role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},r),{},{children:a===n&&Object(s.jsx)(V.a,{p:3,children:Object(s.jsx)("div",{children:t})})}))}function K(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var X=Object(_.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,textAlign:"center"}}}));function Z(e){var t=X(),a=r.a.useState(0),n=Object(O.a)(a,2),o=n[0],c=n[1],i=[],l=[],d=[];if(e.authedUser){for(var u in e.users[e.authedUser].answers)i.push(u),e.questions[u].authorAvatar=e.users[e.questions[u].author].avatarURL,e.questions[u].authorName=e.users[e.questions[u].author].name,l.push(e.questions[u]);for(var b in e.questions){i.find((function(e){return e===b}))||(e.questions[b].authorAvatar=e.users[e.questions[b].author].avatarURL,e.questions[b].authorName=e.users[e.questions[b].author].name,d.push(e.questions[b]))}}return Object(s.jsxs)("div",{className:t.root,children:[Object(s.jsx)(B.a,{position:"static",color:"default",children:Object(s.jsxs)(H.a,{value:o,onChange:function(e,t){c(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",children:[Object(s.jsx)(M.a,Object(m.a)({label:"Unanswered Questions"},K(1))),Object(s.jsx)(M.a,Object(m.a)({label:"Answered Questions"},K(0)))]})}),Object(s.jsx)($,{value:o,index:1,children:Object(s.jsx)(G,{questions:l})}),Object(s.jsx)($,{value:o,index:0,children:Object(s.jsx)(G,{questions:d})})]})}var ee=function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(W.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={optionOneText:"",optionTwoText:""},e.handleChange=function(t){var a=Object(m.a)({},e.state);a[t.currentTarget.name]=t.currentTarget.value,e.setState(a)},e.handleSubmit=function(t){t.preventDefault();var a=e.state,s=a.optionOneText,n=a.optionTwoText,r=e.props;(0,r.dispatch)(C({author:r.authedUser,optionOneText:s,optionTwoText:n})).then((function(){return e.props.history.push("/")})),e.setState((function(){return{optionOneText:"",optionTwoText:""}}))},e}return Object(z.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("form",{className:"card text-center m-auto mt-2",style:{maxWidth:"540px"},onSubmit:this.handleSubmit,children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h2",{children:"Create New Question"})}),Object(s.jsxs)("div",{className:"card-body text-start",children:[Object(s.jsx)("p",{className:"mb-3",children:"Complete The Question:"}),Object(s.jsx)("h5",{children:"Would you rather ..."}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"optionOneText",placeholder:"Enter Option One text Here","aria-label":"default input example",onChange:this.handleChange,value:this.state.optionOneText}),Object(s.jsx)("h6",{className:"text-center",children:"OR"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"optionTwoText",placeholder:"Enter Option Two text Here","aria-label":"default input example",onChange:this.handleChange,value:this.state.optionTwoText}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{className:"form-control btn btn-primary",type:"submit",children:"Submit"})]})]})}}]),a}(n.Component);var te=Object(F.g)(Object(d.connect)((function(e,t){var a=e.authedUser;return e.questions,e.users,{authedUser:a}}))(ee)),ae=function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(W.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={board:[]},e}return Object(z.a)(a,[{key:"componentDidMount",value:function(){var e=[],t={};for(var a in this.props.users){for(var s in t[a]={answers:0,questions:this.props.users[a].questions.length},this.props.users[a].answers)this.props.users[a].answers.hasOwnProperty(s)&&t[a].answers++;e.push({user:this.props.users[a],answers:t[a].answers,questions:t[a].questions,score:t[a].answers+t[a].questions})}this.setState({board:e})}},{key:"render",value:function(){return Object(s.jsx)("div",{children:this.state.board.sort((function(e,t){return t.score-e.score})).map((function(e){return Object(s.jsxs)("div",{className:"card board-card mt-2 mb-3 m-auto p-2",style:{maxWidth:"540px"},children:[Object(s.jsx)("i",{className:"cup fas fa-medal"}),Object(s.jsxs)("div",{className:"row g-0",children:[Object(s.jsx)("div",{className:"col-md-3",children:Object(s.jsx)("img",{width:"100",style:{borderRadius:"50%"},src:""===e.user.avatarURL?"https://firebasestorage.googleapis.com/v0/b/test-task-caf19.appspot.com/o/would%20you%20rather%2Favatar.png?alt=media&token=1dcdaf5e-b089-4500-860b-180235d257a5":e.user.avatarURL,alt:"..."})}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsxs)("div",{className:"card-body text-start",children:[Object(s.jsx)("h4",{className:"card-title fw-bolder mb-2",children:e.user.name}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-9",children:Object(s.jsx)("p",{children:"Answered Questions"})}),Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)("p",{children:e.answers})})]}),Object(s.jsx)("hr",{style:{color:"rgb(200, 200, 200)"}}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-9",children:Object(s.jsx)("p",{children:"Created Questions"})}),Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)("p",{children:e.questions})})]})]})}),Object(s.jsx)("div",{className:"col-md-3",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h6",{children:"Score"})}),Object(s.jsx)("span",{className:"score-badge badge bg-info fw-bolder",children:e.score})]})})]})]},e.user.id)}))})}}]),a}(n.Component);var se=Object(d.connect)((function(e){return{users:e.users}}))(ae),ne=function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(W.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={user:""},e.handleChange=function(t){var a=t.target.value;e.setState((function(){return{user:a}}))},e.handleSubmit=function(t){t.preventDefault();var a=e.state.user;(0,e.props.dispatch)(h(a))},e}return Object(z.a)(a,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.users);return Object(s.jsxs)("div",{className:"card m-auto text-center fw-bolder mt-2",style:{maxWidth:"540px"},children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:["Welcome to the Would You Rather app!",Object(s.jsx)("br",{}),Object(s.jsx)("small",{children:"Please sign in to continue"})]})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("img",{src:"https://apprecs.org/ios/images/app-icons/256/25/1210816293.jpg",alt:"Welcome to the Would You Rather app!"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("h2",{className:"fw-bolder",children:"Sign in"}),Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsxs)("select",{className:"form-select mb-2","aria-label":"Default select example",name:"user",onChange:this.handleChange,required:!0,children:[Object(s.jsx)("option",{value:"",children:"Select User"}),t.map((function(t){return Object(s.jsx)("option",{value:t,children:e.props.users[t].name},t)}))]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},children:"Sign in"})]}),Object(s.jsx)(i.c,{to:"/register",children:"Or register a new user"})]})]})}}]),a}(n.Component);var re=Object(d.connect)((function(e){return{users:e.users}}))(ne),oe=function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(W.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={id:"",name:"",avatarURL:""},e.handleChange=function(t){var a=Object(m.a)({},e.state);a[t.currentTarget.name]=t.currentTarget.value,e.setState({id:a.id.trim(),name:a.name,avatarURL:a.avatarURL})},e.handleSubmit=function(t){t.preventDefault();var a=e.props.dispatch,s=e.state,n=s.id,r=s.name,o=s.avatarURL;a(q({id:n,name:r,avatarURL:o})).then((function(){return a(h(n))}))},e}return Object(z.a)(a,[{key:"render",value:function(){var e=this.state,t=e.id,a=e.name,n=e.avatarURL;return Object(s.jsxs)("form",{className:"card text-center m-auto mt-2",style:{maxWidth:"540px"},onSubmit:this.handleSubmit,children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h2",{children:"Register New User"})}),Object(s.jsxs)("div",{className:"card-body text-start",children:[Object(s.jsxs)("div",{className:"col-12 register-input mb-2",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"id",placeholder:"Enter Username (No spaces)",onChange:this.handleChange,value:t,required:!0}),Object(s.jsx)("span",{className:"required-indicator",role:"presentation"})]}),Object(s.jsxs)("div",{className:"col-12 register-input mb-2",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"name",placeholder:"Enter Display Name",onChange:this.handleChange,value:a,required:!0}),Object(s.jsx)("span",{className:"required-indicator",role:"presentation"})]}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"avatarURL",placeholder:"Enter Your Avatar URL",onChange:this.handleChange,value:n})]}),Object(s.jsx)("button",{className:"form-control btn btn-primary",type:"submit",children:"Register"})]})}}]),a}(n.Component);var ce=Object(d.connect)((function(e,t){var a=e.authedUser;return e.questions,e.users,{authedUser:a}}))(oe),ie=function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("h1",{children:["404 ",Object(s.jsx)("br",{}),"Page Not Found"]})})},le=function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(W.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={answer:""},e.handleChange=function(t){var a=t.target.value;e.setState((function(){return{answer:a}}))},e.handleSubmit=function(t){t.preventDefault();var a=e.state.answer,s=e.props;(0,s.dispatch)(R({authedUser:s.authedUser,qid:s.question.id,answer:a}))},e}return Object(z.a)(a,[{key:"render",value:function(){var e=this.props.question;return Object(s.jsxs)("div",{className:"card mb-3 m-auto",style:{maxWidth:"540px"},children:[Object(s.jsx)("div",{className:"card-header text-start",children:Object(s.jsxs)("h6",{className:"fw-bolder",children:[this.props.name," asks:"]})}),Object(s.jsxs)("div",{className:"row g-0",children:[Object(s.jsx)("div",{className:"col-md-4",children:Object(s.jsx)("img",{width:"150",style:{borderRadius:"50%"},src:this.props.autorAvatar,alt:this.props.name})}),Object(s.jsx)("div",{className:"col-md-8",children:Object(s.jsxs)("form",{className:"card-body text-start",onSubmit:this.handleSubmit,children:[Object(s.jsx)("h4",{className:"card-title mb-3",children:"Would You Rather ..."}),Object(s.jsxs)("div",{className:"form-check",children:[Object(s.jsx)("input",{className:"form-check-input",type:"radio",name:"option",id:"optionOne",value:"optionOne",onChange:this.handleChange,required:!0}),Object(s.jsx)("label",{className:"form-check-label",htmlFor:"optionOne",children:e.optionOne.text})]}),Object(s.jsxs)("div",{className:"form-check",children:[Object(s.jsx)("input",{className:"form-check-input",type:"radio",name:"option",id:"optionTwo",value:"optionTwo",onChange:this.handleChange,required:!0}),Object(s.jsx)("label",{className:"form-check-label",htmlFor:"optionTwo",children:e.optionTwo.text})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})]})}}]),a}(n.Component);var de=Object(d.connect)((function(e,t){var a=e.authedUser,s=e.questions,n=e.users;return{authedUser:a,question:s[t.id],autorAvatar:""===n[a].avatarURL?"https://firebasestorage.googleapis.com/v0/b/test-task-caf19.appspot.com/o/would%20you%20rather%2Favatar.png?alt=media&token=1dcdaf5e-b089-4500-860b-180235d257a5":n[a].avatarURL,name:n[s[t.id].author].name}}))(le),ue=function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"render",value:function(){if(null===this.props.question)return Object(s.jsx)(F.a,{to:"/404"});var e=this.props.question,t=e.optionOne.votes.length+e.optionTwo.votes.length,a={width:"".concat(e.optionOne.votes.length/t*100,"%")},n={width:"".concat(e.optionTwo.votes.length/t*100,"%")};return e.optionOne.votes.includes(this.props.authedUser)||e.optionTwo.votes.includes(this.props.authedUser)?Object(s.jsxs)("div",{className:"card mb-3 m-auto",style:{maxWidth:"540px"},children:[Object(s.jsx)("div",{className:"card-header text-start",children:Object(s.jsxs)("h6",{className:"fw-bolder",children:["Asked by: ",this.props.name]})}),Object(s.jsxs)("div",{className:"row g-0",children:[Object(s.jsx)("div",{className:"col-md-4",children:Object(s.jsx)("img",{width:"150",style:{borderRadius:"50%"},src:this.props.autorAvatar,alt:this.props.name})}),Object(s.jsxs)("div",{className:"col-md-8",children:[Object(s.jsx)("h4",{className:"fw-bolder text-start",children:"Results:"}),Object(s.jsxs)("div",{className:"card-body text-start",children:[Object(s.jsxs)("div",{className:"card result-card",children:[e.optionOne.votes.includes(this.props.authedUser)?Object(s.jsx)("span",{className:"vote-badge badge bg-warning fw-bolder",children:"Your Vote"}):Object(s.jsx)("span",{}),Object(s.jsxs)("div",{className:"card-body",style:e.optionOne.votes.includes(this.props.authedUser)?{backgroundColor:"rgb(232 253 253)"}:{},children:[Object(s.jsxs)("h6",{children:["Would you rather ",e.optionOne.text,"?"]}),Object(s.jsx)("div",{className:"progress",children:Object(s.jsx)("div",{className:"progress-bar",role:"progressbar",style:a,"aria-valuenow":a.width,"aria-valuemin":"0","aria-valuemax":"100",children:a.width})}),Object(s.jsxs)("p",{className:"text-center",children:[e.optionOne.votes.length," out of ",t," votes"]})]})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"card result-card",children:[e.optionTwo.votes.includes(this.props.authedUser)?Object(s.jsx)("span",{className:"vote-badge badge bg-warning fw-bolder",children:"Your Vote"}):Object(s.jsx)("span",{}),Object(s.jsxs)("div",{className:"card-body",style:e.optionTwo.votes.includes(this.props.authedUser)?{backgroundColor:"rgb(232 253 253)"}:{},children:[Object(s.jsxs)("h6",{children:["Would you rather ",e.optionTwo.text,"?"]}),Object(s.jsx)("div",{className:"progress",children:Object(s.jsx)("div",{className:"progress-bar",role:"progressbar",style:n,"aria-valuenow":n.width,"aria-valuemin":"0","aria-valuemax":"100",children:n.width})}),Object(s.jsxs)("p",{className:"text-center",children:[e.optionTwo.votes.length," out of ",t," votes"]})]})]})]})]})]})]}):Object(s.jsx)(de,{id:this.props.match.params.id})}}]),a}(n.Component);var be=Object(d.connect)((function(e,t){var a=e.authedUser,s=e.questions,n=e.users;return s[t.match.params.id]?{questions:s,authedUser:a,question:s[t.match.params.id],autorAvatar:""===n[a].avatarURL?"https://firebasestorage.googleapis.com/v0/b/test-task-caf19.appspot.com/o/would%20you%20rather%2Favatar.png?alt=media&token=1dcdaf5e-b089-4500-860b-180235d257a5":n[a].avatarURL,name:n[s[t.match.params.id].author].name}:{question:null}}))(ue);var je=function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"componentDidMount",value:function(){this.props.handleInitialData()}},{key:"render",value:function(){var e=this;return null===this.props.authedUser?Object(s.jsxs)(i.b,{children:[Object(s.jsx)(I,{}),Object(s.jsx)(b.a,{}),!0===this.props.loading?null:Object(s.jsxs)(F.d,{children:[Object(s.jsx)(F.b,{path:"/",exact:!0,component:re}),Object(s.jsx)(F.b,{path:"/register",component:ce}),Object(s.jsx)(F.a,{to:"/"})]})]}):Object(s.jsxs)(i.b,{children:[Object(s.jsx)(I,{}),Object(s.jsx)(b.a,{}),!0===this.props.loading?null:Object(s.jsxs)(F.d,{children:[Object(s.jsx)(F.b,{path:"/",exact:!0,component:function(){return Object(s.jsx)(Z,{questions:e.props.questions,users:e.props.users,authedUser:e.props.authedUser})}}),Object(s.jsx)(F.b,{path:"/add",component:te}),Object(s.jsx)(F.b,{path:"/leaderboard",component:se}),Object(s.jsx)(F.b,{path:"/questions/:id",component:be}),Object(s.jsx)(F.b,{path:"/404",component:ie}),Object(s.jsx)(F.a,{from:"/register",to:"/"}),Object(s.jsx)(F.a,{to:"/404"})]})]})}}]),a}(n.Component);var he=Object(d.connect)((function(e){return{users:e.users,questions:e.questions,authedUser:e.authedUser}}),{handleInitialData:function(){return function(e){return e(Object(u.showLoading)()),Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(m.a)({},v))}),1e3)})),new Promise((function(e,t){setTimeout((function(){return e(Object(m.a)({},x))}),1e3)}))]).then((function(e){var t=Object(O.a)(e,2);return{users:t[0],questions:t[1]}})).then((function(t){var a=t.users,s=t.questions;e(function(e){return{type:y,users:e}}(a)),e(function(e){return{type:T,questions:e}}(s)),e(Object(u.hideLoading)())}))}}})(je),pe=Object(l.d)(S,A);c.a.render(Object(s.jsx)(d.Provider,{store:pe,children:Object(s.jsx)(i.a,{children:Object(s.jsx)(he,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.19d66af5.chunk.js.map